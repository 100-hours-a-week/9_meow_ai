# =============================================================================
# AI 모델 추론 서버 통합 의존성 관리
# FastAPI (API 서버) + vLLM (추론 서버) 구성
# Python 3.10 호환
# =============================================================================

# -----------------------------------------------------------------------------
# PyTorch 및 GPU 관련 (CUDA 12.1 호환성)
# -----------------------------------------------------------------------------
torch==2.5.1  # torch 2.5.1로 업그레이드
nvidia-ml-py>=12.535.108

# -----------------------------------------------------------------------------
# vLLM 서버 관련 (추론 전담)
# -----------------------------------------------------------------------------
# torch 2.5.1과 호환되는 vllm 최신 버전 사용
vllm>=0.6.4,<0.7.0  # torch 2.5.1과 호환되는 vllm 버전

# -----------------------------------------------------------------------------
# Transformers 및 NLP 관련
# -----------------------------------------------------------------------------
# vLLM 0.6.4+와 호환되는 transformers 버전
transformers>=4.40.0,<4.48.0
tokenizers>=0.19.0

# HuggingFace Hub (모델 다운로드용)
huggingface_hub>=0.20.0

# -----------------------------------------------------------------------------
# 호환성 문제 해결을 위한 버전 제한
# -----------------------------------------------------------------------------
# google-ai-generativelanguage와의 호환성을 위해 protobuf 버전 제한
protobuf>=3.19.5,<5.0.0

# -----------------------------------------------------------------------------
# FastAPI 서버 관련 (API 서버 전담)
# -----------------------------------------------------------------------------
fastapi>=0.110.0
uvicorn[standard]>=0.28.0
pydantic>=2.6.0
starlette>=0.36.0

# -----------------------------------------------------------------------------
# HTTP 클라이언트 및 네트워킹
# -----------------------------------------------------------------------------
httpx>=0.27.0
aiohttp>=3.9.0
requests>=2.31.0

# -----------------------------------------------------------------------------
# 데이터 처리 및 유틸리티
# -----------------------------------------------------------------------------
numpy>=1.24.0
pandas>=2.0.0
pillow>=10.0.0
python-multipart>=0.0.9

# -----------------------------------------------------------------------------
# 로깅 및 모니터링
# -----------------------------------------------------------------------------
loguru>=0.7.0
psutil>=5.9.0

# -----------------------------------------------------------------------------
# 개발 및 테스트 (선택사항)
# -----------------------------------------------------------------------------
pytest>=8.0.0
pytest-asyncio>=0.23.0
black>=24.0.0
isort>=5.13.0