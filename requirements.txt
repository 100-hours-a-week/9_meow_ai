# =============================================================================
# AI 모델 추론 서버 통합 의존성 관리
# FastAPI (API 서버) + vLLM (추론 서버) 구성
# Python 3.10 호환
# =============================================================================

# -----------------------------------------------------------------------------
# PyTorch 및 GPU 관련 (CUDA 12.1 호환성)
# -----------------------------------------------------------------------------
torch==2.3.1  # Python 3.10 호환 최신 안정 버전
nvidia-ml-py>=12.535.108

# -----------------------------------------------------------------------------
# vLLM 서버 관련 (추론 전담)
# -----------------------------------------------------------------------------
vllm>=0.6.0,<0.10.0  # Python 3.10 호환 vLLM 버전
# vLLM은 자체적으로 transformers, torch 등을 관리하므로 별도 설치 불필요

# -----------------------------------------------------------------------------
# FastAPI 서버 관련 (API 통신 담당)
# -----------------------------------------------------------------------------
fastapi>=0.100.0,<0.115.0
uvicorn[standard]>=0.23.0,<0.30.0
pydantic>=2.0.0,<3.0.0
pydantic-core>=2.0.0
pydantic-settings>=2.0.0
python-dotenv>=1.0.0

# -----------------------------------------------------------------------------
# vLLM 클라이언트 통신 관련
# -----------------------------------------------------------------------------
httpx>=0.24.0,<0.28.0  # 비동기 HTTP 클라이언트
openai>=1.0.0,<2.0.0  # OpenAI 호환 API 클라이언트
aiohttp>=3.8.0,<4.0.0  # 추가 비동기 HTTP 지원

# -----------------------------------------------------------------------------
# HuggingFace 관련 (호환성 유지용)
# -----------------------------------------------------------------------------
transformers>=4.40.0,<4.46.0  # Python 3.10 호환
tokenizers>=0.19.0,<0.20.0
accelerate>=0.20.0,<0.35.0
peft>=0.10.0,<0.13.0
bitsandbytes>=0.43.0,<0.44.0
safetensors>=0.4.0,<0.5.0
einops>=0.7.0,<0.9.0

# -----------------------------------------------------------------------------
# LangChain 관련 (기존 기능 유지)
# -----------------------------------------------------------------------------
langchain>=0.1.0,<0.3.0
langchain-core>=0.1.0,<0.3.0
langchain-community>=0.0.30,<0.3.0
langchain-google-genai>=0.0.10,<1.0.0
google-generativeai>=0.4.0,<0.8.0

# -----------------------------------------------------------------------------
# 유틸리티 및 모니터링
# -----------------------------------------------------------------------------
requests>=2.31.0,<3.0.0
jinja2>=3.1.0,<4.0.0
wandb>=0.15.0,<0.18.0
pyflakes>=3.0.0,<4.0.0

# -----------------------------------------------------------------------------
# 테스트 및 개발 도구
# -----------------------------------------------------------------------------
pytest>=7.0.0,<9.0.0
pytest-asyncio>=0.21.0,<0.24.0

# -----------------------------------------------------------------------------
# 로깅 및 모니터링
# -----------------------------------------------------------------------------
structlog>=23.0.0,<25.0.0
prometheus-client>=0.17.0,<0.21.0